<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lò vi sóng</title>
	  <style>
	  
       body {
        font-family: "Poppins", sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            min-height: 100vh;
    display: flex;
    flex-direction: column;
        }

        .header {
            background-color: #b40000;
            color: white;
            padding: 15px 150px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .header .logo {
            display: flex;
            align-items: center;
        }

        .header .logo img {
            height: 40px;
            margin-right: 10px;
        }

        .header .search-bar {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .header .search-bar input {
            width: 80%;
            padding: 10px;
            border: none;
            border-radius: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .header .search-bar button {
            background-color: #333;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .header .search-bar button:hover {
            background-color: #555;
        }
		
		.header .icons {
            display: flex;
            align-items: center;
        }

        .header .icons div {
            margin-left: 15px;
            cursor: pointer;
        }
		
		.header .dropdown-menu {
            position: relative;
            margin-left: 20px;
        }

        .header .dropdown-menu button {
            font-size: 16px;
            background-color: transparent;
            color: white;
            border: none;
            cursor: pointer;
            padding: 10px 20px;
        }

        .header .dropdown-menu .menu-content {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: white;
            min-width: 200px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1), 0px 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 1;
            border-radius: 8px;
            overflow: hidden;
            padding: 8px 0;
        }

        .header .dropdown-menu .menu-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .header .dropdown-menu .menu-content a:hover {
            background-color: #f0f0f0;
        }
        .menu-content a:focus, .menu-content a:active {
            background-color: rgba(255, 165, 0, 0.2);
        }

		.dropdown-menu:hover .menu-content {
            display: block;
        }
		
        .menu {
            background-color: #000;
            color: white;
            padding: 10px 20px;
            display: flex;
            align-items: center;
			justify-content: center;
			gap: 100px;
        }

        .menu a {
            color: white;
            text-decoration: none;
            font-size: 14px;
			margin: 0 10px;
        }

        .menu a:hover {
            background-color: #575757;
            border-radius: 5px;
        }

        .breadcrumb-title-container {
            padding: 20px;
            background-color: #fff;
			margin-left: 100px;
			margin-right: 100px;
			border-radius: 10px;
        }

        .breadcrumb a {
            text-decoration: none;
            color: #333;
        }

        .breadcrumb a:hover {
            color: #b40000;
        }

        .container {
            width: flex;
            margin: auto;
            max-width: flex;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            padding: 20px;
        }
        .product-images {
            flex: 1;
            min-width: 300px;
        }
        .image-slider {
            position: relative;
            width: 100%;
            max-width: 500px;
        }
        .image-slider img {
            width: 100%;
            border-radius: 8px;
        }
        .slider-buttons {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
        }
        .slider-button {
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
            border-radius: 50%;
        }
        .product-details {
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
        }
        .product-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .product-description {
            font-size: 16px;
            line-height: 1.5;
            color: #333;
            margin-bottom: 20px;
        }
        .product-price {
            font-size: 20px;
            color: red;
            margin-bottom: 20px;
        }
        .product-specs {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .product-specs h3 {
            margin-top: 0;
            font-size: 18px;
        }
        .product-specs p {
            margin: 5px 0;
            font-size: 16px;
        }
        .product-actions{
            display: flex;
             gap: 20px; 
             margin-top: 20px;
        }
        .buy-button {
            padding: 15px 30px;
             background-color: #ff4500;
              color: white; 
              border: none; 
              border-radius: 5px; 
              font-size: 18px; 
              cursor: pointer;
        }
        .buy-button:hover {
            background-color: #e63e00;
        }
        .add-to-cart{
            padding: 15px 30px;
             background-color: #007bff; 
             color: white; border: none;
              border-radius: 5px; 
              font-size: 18px; 
              cursor: pointer;
        }
        .add-to-cart:hover {
            background-color: #e63e00;
        }
        .product-video {
            margin-bottom: 20px;
        }
        .product-video video {
            width: 100%;
            border-radius: 8px;
        }
        .rating-container {
    max-width: 100%;
    width: 95%; 
    margin: auto;
    margin-bottom: 20px; 
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 10px;
    text-align: center;
    background: white;
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
        }
        .average-rating {
            font-size: 48px;
            font-weight: bold;
        }
        .stars {
            color: gold;
            font-size: 24px;
        }
        .rating-bar {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }
        .bar {
            flex: 1;
            height: 10px;
            background: #ddd;
            border-radius: 5px;
            margin: 0 10px;
            position: relative;
        }
        .bar-fill {
            height: 100%;
            background: red;
            width: 0%;
            border-radius: 5px;
        }
        .rate-buttons {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }
        .rate-buttons button {
            padding: 10px;
            font-size: 16px;
            margin: 5px;
            cursor: pointer;
            border: none;
            background: #ddd;
            border-radius: 5px;
        }
        .rate-buttons button:hover {
            background: gold;
        }
        .comment-container {
            max-width: 100%;
    width: 95%; 
    margin: auto;
    margin-bottom: 20px; 
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 10px;
    text-align: center;
    background: white;
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
        }
        .comment-box {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        .comment-input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .comment-button {
            padding: 10px 15px;
            background-color: black;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .comment-list {
            border-top: 1px solid #ddd;
    padding-top: 10px;
    text-align: left;
        }
        .comment {
            margin-bottom: 10px;
            padding-left: 0;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }
        .modal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            border-radius: 10px;
            width: 300px;
        }
        .close-button {
            cursor: pointer;
            float: right;
            font-size: 20px;
        }
        .reply-box {
        display: none;
        background: #f5f5f5;
        padding: 10px;
        border-radius: 5px;
        margin-top: 10px;
    }
    .comment.reply {
    margin-left: 20px; /* Thụt vào 20px */
    background: #f9f9f9; /* Nhẹ nhàng phân biệt với bình luận chính */
    padding: 5px;
    border-left: 3px solid #868181;
}

    .reply-input {
        width: 94%;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .reply-button {
        background-color: red;
        color: white;
        padding: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 5px;
    }

        @media (max-width: 768px) {
            .header, .menu {
                flex-direction: column;
                align-items: flex-start;
            }

            .header .search-bar {
                margin: 10px 0;
                width: 100%;
            }

            .product {
                width: 100%;
                margin-bottom: 20px;
            }
        }
        .footer {
			background: #222;
			color: #fff;
			padding: 30px 20px;
			text-align: center;
		}

		.footer .container {
			display: flex;
            background-color: transparent !important;
			flex-wrap: wrap;
			justify-content: center;
			max-width: 1200px;
			margin: auto;
			gap: 20px;
		}

		.footer-column {
			flex: 1;
			min-width: 300px;
			padding: 15px;
		}

		.footer h3 {
			color: #f4b400;
			margin-bottom: 10px;
			font-size: 18px;
		}

		.footer ul {
			list-style: none;
			padding: 0;
			margin: 0;
		}

		.footer ul li {
			margin-bottom: 5px;
		}

		.footer a {
			color: #ddd;
			text-decoration: none;
		}

		.footer a:hover {
			color: #fff;
		}

		.footer-info {
			margin-top: 20px;
			padding-top: 15px;
			border-top: 1px solid #555;
			font-size: 14px;
			color: #ccc;
		}

		.footer-info p {
			margin: 5px 0;
			text-align: center;
		}
		
		.chat-input-container {
			display: flex;
			align-items: center;
			border-top: 1px solid #ccc;
		}
		
		.chatbox {
			position: fixed;
			bottom: 80px;
			right: 20px;
			width: 300px;
			background: white;
			border-radius: 20px;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
			display: flex;
			flex-direction: column;
			transform: translateY(20px);
			opacity: 0;
			visibility: hidden;
			transition: transform 0.3s ease, opacity 0.3s ease;
		}

		.chatbox.active {
			transform: translateY(0);
			opacity: 1;
			visibility: visible;
		}

		.chat-header {
			background: #007bff;
			color: white;
			padding: 10px;
			display: flex;
			justify-content: space-between;
			align-items: center;
			border-radius: 20px 20px 0 0;
		}

		.chat-body {
			padding: 10px;
			display: flex;
			flex-direction: column;
			border-radius: 0 0 20px 20px;
		}

		.chat-messages {
			height: 200px;
			overflow-y: auto;
			justify-content: flex-end;
			align-self: flex-end;
			border-bottom: 1px solid #ddd;
			padding-bottom: 5px;
		}

		.chat-input {
			width: 75%;
			padding: 8px;
			border: 1px solid #ddd;
			border-radius: 10px;
		}

		.chat-send {
			width: 20%;
			padding: 8px;
			background: #007bff;
			color: white;
			border: none;
			border-radius: 10px;
			cursor: pointer;
		}

		.chat-send:hover {
			background: #0056b3;
		}

		.chat-toggle {
			position: fixed;
			bottom: 20px;
			right: 20px;
			background: #007bff;
			color: white;
			width: 50px;
			height: 50px;
			border: none;
			border-radius: 50%;
			cursor: pointer;
			font-size: 20px;
			display: flex;
			justify-content: center;
			align-items: center;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
		}

		.chat-toggle:hover {
			background: #0056b3;
		}
.cart-icon {
			position: relative;
			display: flex;
			align-items: center;
		}
		.cart-count {
            position: absolute;
            top: -5px;
            right: -10px;
            background-color: red;
            color: white;
            font-size: 12px;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            display: none; /* Ẩn mặc định */
        }
        
        .cart-count.visible {
            display: flex; /* Hiển thị khi có sản phẩm */
        }

        .cart-container {
            width: 80%;
            margin: 50px auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }
        .an {
  display: none;
}
.image-container {
    display: flex;
    justify-content: center;
}
.button1 {
  padding: 12px 20px;
  background: rgb(34, 109, 142);
  color: white;
  font-size: 10px;
  font-weight: bold;
  border: none;
  cursor: pointer;
  border-radius: 25px;
  display: block;
  margin: 15px auto;
  transition: 0.3s;
  outline: none;
  box-shadow: 0 4px 6px rgba(137, 184, 234, 0.2);
}
.button1:hover {
  background: linear-gradient(to right, #5aa6d9, #3cb3ef);
  transform: scale(1.05);
}
.button1:active {
  transform: scale(0.95);
}

	  </style>
  </head>
  <body>
    <div class="header">
      <div class="logo">
        <img
          src="Ảnh/480119606_2353868115012094_3681363280069979819_n.jpg"
          width="76"
          height="48"
          alt=""
        />
        <strong>KTSShop.com.vn</strong>
      </div>
      <div class="dropdown-menu">
        <button>Danh mục</button>
        <div class="menu-content">
          <a href="ĐienThoai.html">Điện thoại</a>
          <a href="laptop.html">Laptop</a>
          <a href="DienLanhShop.html">Điện máy</a>
          <a href="phukien.html">Phụ kiện</a>
          <a href="dogiadung.html">Đồ gia dụng</a>
        </div>
      </div>
      <div class="search-bar">
        <input
          type="text"
          id="searchInput"
          placeholder="Nhập tên điện thoại, máy tính, phụ kiện... cần tìm"
        />
        <button id="searchButton">Tìm kiếm</button>
      </div>
      <div class="icons">
        <a
          id="loginLink"
          href="dangnhap.html"
          style="color: white; text-decoration: none"
        >
          Đăng nhập
        </a>
        <a
          href="ShoppingCart.html"
          style="color: white; text-decoration: none"
        >
          <div class="cart-icon">
            🛒 Giỏ hàng
            <div class="cart-count">0</div>
          </div>
        </a>
      </div>
    </div>

    <div class="menu">
      <a href="#"
        >Mọi thiết bị công nghệ bạn cần – Tất cả chỉ bằng một cú nhấp chuột!</a
      >
      <a href="#">Bảo hành chính hãng, sale nhiều, giảm sâu</a>
      <a href="#"
        >Mua iPhone 16 Pro Max chính hãng, giá tốt, nhiều ưu đãi tại
        KTSShop.com.vn</a
      >
    </div>

    <div class="breadcrumb-title-container">
      <div class="breadcrumb">
        <a
          href="Demo.html"
          style="color: blue; font-weight: bold"
          >Trang chủ</a
        >
        /
        <a href="dogiadung.html" style="color: blue; font-weight: bold"
          >Đồ gia dụng</a
        >/
        <a>Lò vi sóng có nướng Toshiba 23 lít ER-SGS23(S1)VN</a>
      </div>
      <div class="container">
        <div class="product-images">
          <div class="image-slider">
            <img src="Ảnh/2.jpg" alt="Product Image 1" />
            <img src="Ảnh/3.jpg" alt="Product Image 2" />
            <img src="Ảnh/4.jpg" alt="Product Image 3" />
            <img src="Ảnh/5.jpg" alt="Product Image 4" />
            <img
              src="Ảnh/6.jpg"
              alt="Product Image 5"
              style="display: none"
            />
            <div class="slider-buttons">
              <button class="slider-button" onclick="changeImage(-1)">
                &lt;
              </button>
              <button class="slider-button" onclick="changeImage(1)">
                &gt;
              </button>
            </div>
          </div>
          <div class="product-specs">
            <h3>Thông số nổi bật</h3>
            <p><strong>Mã sản phẩm:</strong> ER-SGS23(S1)VN</p>
            <p><strong>Sản xuất tại:</strong> Thái Lan</p>
            <p><strong>Thời điểm ra mắt:</strong> 2019</p>
            <p><strong>Thời gian bảo hành:</strong> 12 tháng</p>
            <p><strong>Màu sắc:</strong> Bạc</p>
            <p><strong>Kích thước:</strong> 485 x 410 x 293 mm</p>
            <p><strong>Kích thước khoang lò:</strong> 340 x 300 x 200 mm</p>
            <p><strong>Trọng lượng:</strong> 14 kg</p>
            <p><strong>Dung tích:</strong> 23 lít</p>
            <p><strong>loại lò vi sóng:</strong> Lò vi sóng có nướng</p>
            <p>
              <strong>Nhãn năng lượng:</strong> Nướng: 1000 W/Vi sóng: 800 W
            </p>
            <p><strong>Dung tích:</strong> 23 lít</p>
            <p><strong>Điện áp:</strong> 220W</p>
            <p><strong>Chức năng chính:</strong> Rã đông/Hâm nóng/Nướng</p>
          </div>
        </div>
        <div class="product-details">
          <h1 class="product-title">
            Lò vi sóng có nướng Toshiba 23 lít ER-SGS23(S1)VN
          </h1>
          <div class="product-video">
            <iframe
              width="100%"
              height="420"
              src="https://www.youtube.com/embed/Y2UKutvkT9E"
              frameborder="0"
              allowfullscreen
            ></iframe>
          </div>

          <div class="product-price">
            2.790.000 đ
            <del style="color: #888; font-size: 16px">3.050.000 đ</del>
          </div>
          <div class="product-actions">
            <a href="ThanhToan.html">
              <button class="buy-button">Mua ngay</button></a
            >
            <a href="#" button class="add-to-cart">Thêm vào giỏ hàng</a>
          </div>
          <div id="fb-root"></div>
          <script
            async
            defer
            crossorigin="anonymous"
            src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v22.0"
          ></script>
          <br />
          <div
            class="fb-like"
            data-href="https://developers.facebook.com/docs/plugins/"
            data-width=""
            data-layout=""
            data-action=""
            data-size=""
            data-share="true"
          ></div>
          <br />
        </div>
        <div class="product-description">
          <h2>Mô tả sản phẩm</h2>
          <p>
            Đến từ thương hiệu Toshiba đã quá quen thuộc với người tiêu dùng
            Việt Nam, Lò vi sóng có nướng Toshiba 23 lít ER-SGS23(S1)VN sở hữu
            các tính năng nổi bật như rã đông cấp tốc, làm nóng kết hợp nướng và
            tính năng khóa trẻ em an toàn, là sản phẩm mà bạn nên cân nhắc cho
            gian bếp của gia đình mình.
          </p>
          <div id="them-thong-tin" class="an">
            <div class="image-container">
              <img src="Ảnh/2.jpg" width="600" height="390" alt="" />
            </div>
            <h3>Chế độ nấu kết hợp độc đáo</h3>
            <p>
              Thay vì chỉ đơn giản là làm nóng như những lò vi sóng thông thường
              khác, Lò vi sóng có nướng Toshiba 23 lít ER-SGS23(S1)VN còn có 2
              chế độ nấu đặc biệt kết hợp giữa làm nóng bằng sóng viba và nướng,
              hoạt động với công suất tối đa 1000W, nhờ đó sản phẩm có khả năng
              làm bên trong thực phẩm chín đều, song song đó là làm vàng giòn
              lớp vỏ bên ngoài. Nhờ đó, chỉ với một sản phẩm này mà bạn sẽ có
              thể chế biến được nhiều món ăn đa dạng mà không cần phải sắm thêm
              một chiếc lò nướng khác.
            </p>

            <div class="image-container">
              <img src="Ảnh/16.jpg" width="600" height="390" alt="" />
            </div>
            <h3>Tính năng rã đông hiệu quả</h3>
            <p>
              Thông thường, thực phẩm khi đông lạnh và rã động thì sẽ dễ bị mất
              bớt chất dinh dưỡng. Lò vi sóng có nướng Toshiba 23 lít
              ER-SGS23(S1)VN đã được nhà sản xuất Toshiba đặc biệt lập trình ra
              1 chế độ chuyên dùng để rã đông, có thể nhanh chóng làm mềm thực
              phẩm đông lạnh mà hạn chế làm biến đổi tính chất thực phẩm giúp
              cho thực phẩm rã đông vẫn giữ được độ tươi ngon và dưỡng chất vốn
              có. Khi sử dụng tính năng này, bạn nên tham khảo sách hướng dẫn để
              chọn được mức công suất và thời gian rã đông cho phù hợp với khối
              lượng thức ăn.
            </p>
            <div class="image-container">
              <img src="Ảnh/17.jpg" width="600" height="390" alt="" />
            </div>

            <h3>Đa dạng chế độ cho thực đơn thêm phong phú</h3>
            <p>
              Sản phẩm được trang bị 9 chế độ nấu tự động dành cho các loại thực
              phẩm khác nhau, do đó bạn chỉ cần cho thức ăn vào lò rồi nhấn 1
              nút chọn đúng chế độ là xong. Chế độ hâm nóng và rã đông được chia
              thành 11 mức công suất khác nhau, tối đa là 800W để bạn có thể
              điều chỉnh nhiệt lượng và thời gian sử dụng sao cho phù hợp với
              khối lượng thực phẩm.
            </p>
            <div class="image-container">
              <img src="Ảnh/18.jpg" width="600" height="390" alt="" />
            </div>
            <h3>Tính năng khóa trẻ em, đảm bảo an toàn cho trẻ nhỏ</h3>
            <p>
              Để tránh trẻ em táy máy lò vi sóng gây nguy hiểm cho chính các bé
              lẫn làm hỏng hóc máy, Lò vi sóng có nướng Toshiba 23 lít
              ER-SGS23(S1)VN đã được trang bị tính năng Khóa trẻ em nhằm ngăn
              chặn rủi ro này. Phụ huynh chỉ cần nhấn nút “Dừng/Hủy” trong 3
              giây là lò sẽ được khóa lại, trẻ sẽ không thể mở cửa hoặc điều
              khiển các tính năng của lò vi sóng.
            </p>
            <div class="image-container">
              <img src="Ảnh/19.jpg" width="600" height="390" alt="" />
            </div>
          </div>
          <button id="xemThemBtn" class="button1">Xem Thêm ▼</button>
        </div>
      </div>
      <div class="rating-container">
        <h2>Khách hàng nói về sản phẩm</h2>
        <div class="average-rating" id="avg-rating">5.0</div>
        <p id="total-reviews">3 lượt đánh giá</p>
        <div class="stars" id="star-display">★★★★★</div>

        <div>
          <div class="rating-bar">
            <span>5★</span>
            <div class="bar"><div class="bar-fill" id="bar-5"></div></div>
            <span id="count-5">3</span>
          </div>
          <div class="rating-bar">
            <span>4★</span>
            <div class="bar"><div class="bar-fill" id="bar-4"></div></div>
            <span id="count-4">0</span>
          </div>
          <div class="rating-bar">
            <span>3★</span>
            <div class="bar"><div class="bar-fill" id="bar-3"></div></div>
            <span id="count-3">0</span>
          </div>
          <div class="rating-bar">
            <span>2★</span>
            <div class="bar"><div class="bar-fill" id="bar-2"></div></div>
            <span id="count-2">0</span>
          </div>
          <div class="rating-bar">
            <span>1★</span>
            <div class="bar"><div class="bar-fill" id="bar-1"></div></div>
            <span id="count-1">0</span>
          </div>
        </div>

        <div class="rate-buttons">
          <button onclick="rate(5)">5★</button>
          <button onclick="rate(4)">4★</button>
          <button onclick="rate(3)">3★</button>
          <button onclick="rate(2)">2★</button>
          <button onclick="rate(1)">1★</button>
        </div>
      </div>
      <div class="comment-container">
        <div class="comment-box">
          <input
            type="text"
            class="comment-input"
            placeholder="Nhập nội dung bình luận"
          />
          <button class="comment-button" onclick="openModal()">
            Gửi bình luận
          </button>
        </div>
        <div class="comment-list" id="commentList"></div>
      </div>

      <div class="overlay" id="overlay">
        <div class="modal">
          <span class="close-button" onclick="closeModal()">&times;</span>
          <h3>Thông tin người gửi</h3>
          <input
            type="text"
            id="nameInput"
            placeholder="Nhập họ và tên"
            style="display: block; width: 100%; margin-top: 10px; padding: 5px"
          />
          <input
            type="email"
            id="emailInput"
            placeholder="Nhập Email (nhận thông báo phản hồi)"
            style="display: block; width: 100%; margin-top: 10px; padding: 5px"
          />
          <button
            style="
              margin-top: 10px;
              width: 100%;
              padding: 10px;
              background-color: black;
              color: white;
              border: none;
              border-radius: 5px;
            "
            onclick="submitComment()"
          >
            Hoàn tất
          </button>
        </div>
      </div>
    </div>
    <div class="chatbox">
      <div class="chat-header">
        <span>💬 Hỗ trợ khách hàng</span>
        <button class="chat-close">✖</button>
      </div>
      <div class="chat-body">
        <div class="chat-messages"></div>
        <div class="chat-input-container">
          <input
            type="text"
            class="chat-input"
            placeholder="Nhập tin nhắn..."
          />
          <button class="chat-send">Gửi</button>
        </div>
      </div>
    </div>
    <button class="chat-toggle">💬</button>
    <footer class="footer">
      <div class="container">
        <div class="footer-column">
          <h3>Chăm sóc khách hàng</h3>
          <ul>
            <li><a href="#">Chính sách bảo hành</a></li>
            <li><a href="#">Chính sách đổi trả</a></li>
            <li><a href="#">Chính sách bảo mật</a></li>
            <li><a href="#">Chính sách vận chuyển</a></li>
            <li><a href="#">Điều khoản sử dụng</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h3>Thông tin về website</h3>
          <p>Website bán các sản phẩm kỹ thuật số</p>
          <p>📍 Địa chỉ: Trường Đại Học Tài chính - Ngân hàng Hà Nội</p>
          <p>31 Dịch Vọng Hậu - Cầu Giấy - Hà Nội</p>
        </div>

        <div class="footer-column">
          <h3>Phương Thức Thanh Toán</h3>
          <p>💳 Thanh toán qua thẻ: Visa, MasterCard</p>
          <p>🏦 Chuyển khoản ngân hàng</p>
          <p>📲 Ví điện tử: Momo, ZaloPay</p>
          <p>💰 Thanh toán khi nhận hàng (COD)</p>
        </div>
      </div>
      <footer>
        <div class="footer-info">
          <p>© 2025 KTSShop.com.vn. Tất cả quyền được bảo lưu.</p>
          <p>Website được phát triển bởi nhóm 6 môn TMVNHDT. Liên hệ:</p>
          <p>
            <strong>Thành viên:</strong> Nguyễn Trung Hiếu - MSV: 2254800004 -
            Email:
            <a href="mailto:nguyentrunghieu252004@gmail.com"
              >nguyentrunghieu252004@gmail.com</a
            >
            - SĐT: 0358495610
          </p>
        </div>
      </footer>
    </footer>
  </body>
  <script>
	document.addEventListener("DOMContentLoaded", function () {
  const searchInput = document.getElementById("searchInput");
  const searchButton = document.getElementById("searchButton");

  if (searchButton && searchInput) {
    searchButton.addEventListener("click", function () {
      let keyword = searchInput.value.trim().toLowerCase();
      if (keyword) {
        window.location.href = `Search.html?search=${encodeURIComponent(
          keyword
        )}`;
      }
    });

    searchInput.addEventListener("keypress", function (e) {
      if (e.key === "Enter") {
        searchButton.click();
      }
    });
  }
});

document.addEventListener("DOMContentLoaded", function () {
  let xemThemBtn = document.getElementById("xemThemBtn");
  let themThongTin = document.getElementById("them-thong-tin");

  if (xemThemBtn && themThongTin) {
    xemThemBtn.addEventListener("click", function () {
      if (
        themThongTin.style.display === "none" ||
        themThongTin.style.display === ""
      ) {
        themThongTin.style.display = "block";
        this.innerHTML = "Thu gọn ▲ ";
      } else {
        themThongTin.style.display = "none";
        this.textContent = "Xem thêm ▼ ";
      }
    });
  }
});

let currentImageIndex = 0;
function showImage(index) {
  const images = document.querySelectorAll(".image-slider img");
  images.forEach((img, i) => {
    img.style.display = i === index ? "block" : "none";
  });
}
function changeImage(direction) {
  const images = document.querySelectorAll(".image-slider img");
  currentImageIndex =
    (currentImageIndex + direction + images.length) % images.length;
  showImage(currentImageIndex);
}
document.addEventListener("DOMContentLoaded", () => {
  showImage(currentImageIndex);
});

document.addEventListener("DOMContentLoaded", function () {
  const chatbox = document.querySelector(".chatbox");
  const chatToggle = document.querySelector(".chat-toggle");
  const chatClose = document.querySelector(".chat-close");
  const chatInput = document.querySelector(".chat-input");
  const chatSend = document.querySelector(".chat-send");
  const chatMessages = document.querySelector(".chat-messages");

  chatToggle.addEventListener("click", () => {
    chatbox.classList.toggle("active");
    chatToggle.style.display = chatbox.classList.contains("active")
      ? "none"
      : "block";
  });

  chatClose.addEventListener("click", () => {
    chatbox.classList.remove("active");
    setTimeout(() => {
      chatToggle.style.display = "block";
    }, 300);
  });

  chatSend.addEventListener("click", () => {
    let message = chatInput.value.trim();
    if (message) {
      let msgElement = document.createElement("div");
      msgElement.textContent = message;
      msgElement.style.padding = "5px";
      msgElement.style.margin = "5px 0";
      msgElement.style.background = "#f1f1f1";
      msgElement.style.borderRadius = "5px";
      chatMessages.appendChild(msgElement);
      chatInput.value = "";
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
  });

  chatInput.addEventListener("keypress", (e) => {
    if (e.key === "Enter") {
      chatSend.click();
    }
  });
});
// Lấy đường dẫn URL làm ID duy nhất cho từng trang
const pageID = window.location.pathname;

// Đánh giá mặc định (hiển thị khi tải trang)
const defaultRatings = [3, 0, 0, 0, 0];
const totalRatingsDefault = 3; // Tổng số lượt đánh giá mặc định
const totalScoreDefault = 3 * 5 + 0 * 4 + 0 * 3 + 0 * 2 + 0 * 1;

// Biến lưu trạng thái tạm thời
let currentRatings = [...defaultRatings];
let currentTotalRatings = totalRatingsDefault;
let currentTotalScore = totalScoreDefault;

function updateUI(ratings, totalRatings, totalScore) {
  let avg = (totalScore / totalRatings).toFixed(1); // Làm tròn đến 1 số thập phân
  document.getElementById("avg-rating").innerText = avg;
  document.getElementById("total-reviews").innerText =
    totalRatings + " lượt đánh giá";

  let starDisplay = "☆☆☆☆☆";
  if (avg >= 1.0) starDisplay = "★☆☆☆☆";
  if (avg >= 2.0) starDisplay = "★★☆☆☆";
  if (avg >= 3.0) starDisplay = "★★★☆☆";
  if (avg >= 4.0) starDisplay = "★★★★☆";
  if (avg == 5.0) starDisplay = "★★★★★";
  document.getElementById("star-display").innerHTML = starDisplay;

  // Cập nhật thanh tiến trình
  for (let i = 0; i < 5; i++) {
    let percent = ((ratings[i] / totalRatings) * 100).toFixed(1) || 0; // Giữ số thập phân chính xác
    document.getElementById(`bar-${5 - i}`).style.width = percent + "%";
    document.getElementById(`count-${5 - i}`).innerText = ratings[i];
  }
}

function rate(star) {
  // Cập nhật dữ liệu tạm thời
  currentRatings[5 - star]++;
  currentTotalRatings++;
  currentTotalScore += star;

  updateUI(currentRatings, currentTotalRatings, currentTotalScore);
}

// Khi tải lại trang, hiển thị trạng thái mặc định
window.onload = () => {
  currentRatings = [...defaultRatings];
  currentTotalRatings = totalRatingsDefault;
  currentTotalScore = totalScoreDefault;
  updateUI(defaultRatings, totalRatingsDefault, totalScoreDefault);
};
// JavaScript cho chức năng thêm sản phẩm vào giỏ hàng
document.addEventListener("DOMContentLoaded", function () {
  const addToCartButton = document.querySelector(".add-to-cart");

  addToCartButton.addEventListener("click", function () {
    const product = {
      name: "Lò vi sóng có nướng Toshiba 23 lít ER-SGS23(S1)VN",
      price: 2790000,
      oldPrice: 3050000,
      image: "Ảnh/2.jpg",
      quantity: 1,
      storage: "23 lít",
      color: "Bạc",
    };

    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    const existingProductIndex = cart.findIndex(
      (item) => item.name === product.name
    );

    if (existingProductIndex !== -1) {
      cart[existingProductIndex].quantity += 1;
    } else {
      cart.unshift(product);
    }

    localStorage.setItem("cart", JSON.stringify(cart));
    const totalQuantity = cart.reduce((sum, item) => sum + item.quantity, 0);
    localStorage.setItem("cartCount", totalQuantity);

    // Cập nhật số lượng giỏ hàng trên giao diện
    updateCartCount();

    // Thông báo cho người dùng
    alert("Sản phẩm đã được thêm vào giỏ hàng!");
  });

  // Hàm cập nhật số lượng giỏ hàng
  function updateCartCount() {
    const cartCount = localStorage.getItem("cartCount") || 0;
    const cartCountElement = document.querySelector(".cart-count");
    cartCountElement.textContent = cartCount;
  }

  function updateCartCount() {
    const cartCount = localStorage.getItem("cartCount") || 0;
    const cartCountElement = document.querySelector(".cart-count");
    cartCountElement.textContent = cartCount;
  }

  function updateCartCount() {
    const cartCount = localStorage.getItem("cartCount") || 0;
    const cartCountElement = document.querySelector(".cart-count");

    if (cartCount > 0) {
      cartCountElement.textContent = cartCount;
      cartCountElement.classList.add("visible"); // Hiển thị vùng đỏ
    } else {
      cartCountElement.classList.remove("visible"); // Ẩn vùng đỏ
    }
  }

  updateCartCount(); // Cập nhật số lượng giỏ hàng khi trang được tải
});

document.addEventListener("DOMContentLoaded", function () {
  if (!sessionStorage.getItem("loaded")) {
    sessionStorage.setItem("loaded", "true");
  }
  loadComments();
});

function openModal() {
  document.getElementById("overlay").style.display = "flex";
}

function closeModal() {
  document.getElementById("overlay").style.display = "none";
}

function submitComment() {
  const name = document.getElementById("nameInput").value.trim();
  const email = document.getElementById("emailInput").value.trim();
  const commentText = document.querySelector(".comment-input").value.trim();

  if (name && email && commentText) {
    const date = new Date().toLocaleDateString("vi-VN");
    saveComment(name, commentText, date);
    document.querySelector(".comment-input").value = "";
    closeModal();
    setTimeout(() => loadComments(), 300);
  } else {
    alert("Vui lòng nhập đầy đủ thông tin!");
  }
}

function getPageKey() {
  return window.location.pathname;
}

function saveComment(name, comment, date, replyTo = null) {
  let pageKey = getPageKey();
  let comments = JSON.parse(localStorage.getItem(pageKey)) || [];
  comments.push({ name, comment, date, replyTo });
  localStorage.setItem(pageKey, JSON.stringify(comments));
  console.log("Lưu bình luận:", comments); // Kiểm tra dữ liệu được lưu
}

function getComments() {
  let pageKey = getPageKey();
  return JSON.parse(localStorage.getItem(pageKey)) || [];
}

function loadComments() {
  const comments = getComments();
  const commentList = document.getElementById("commentList");
  commentList.innerHTML = "";

  comments.forEach(({ name, comment, date, replyTo }, index) => {
    addCommentToList(name, comment, date, index, replyTo);
  });
}

function addCommentToList(name, comment, date, index, replyTo) {
  const commentList = document.getElementById("commentList");
  const newComment = document.createElement("div");

  // Nếu là phản hồi, thêm class "reply" để thụt vào
  newComment.className = replyTo ? "comment reply" : "comment";
  newComment.dataset.index = index;

  newComment.innerHTML = `
<div><strong>${name}</strong> • <span class="comment-date">${date}</span></div>
<div style="margin-left: 10px;">${comment}</div>
<button class="reply-btn" onclick="toggleReplyBox(${index})">Trả lời</button>
<button class="delete-btn" style="display: none; margin-left: 10px; color: red;" onclick="deleteComment(${index})">Xóa bình luận</button>

<div id="replyBox-${index}" class="reply-box" style="display: none;">
    <strong>Đang trả lời: ${name}</strong>
    <input type="text" id="replyInput-${index}" class="reply-input" placeholder="Nhập nội dung bình luận">
    <button class="reply-button" onclick="submitReply(${index}, '${name}')">Gửi</button>
</div>
`;

  newComment.addEventListener("click", function () {
    const deleteBtn = this.querySelector(".delete-btn");
    deleteBtn.style.display =
      deleteBtn.style.display === "none" ? "inline-block" : "none";
  });

  commentList.appendChild(newComment);
}

function toggleReplyBox(index) {
  document.querySelectorAll(".reply-box").forEach((box) => {
    box.style.display = "none";
  });

  const replyBox = document.getElementById(`replyBox-${index}`);
  replyBox.style.display = "block";
  document.getElementById(`replyInput-${index}`).focus();
}

function submitReply(index, replyingTo) {
  const replyInput = document
    .getElementById(`replyInput-${index}`)
    .value.trim();

  if (replyInput) {
    const date = new Date().toLocaleDateString("vi-VN");
    saveComment("KTSShop", replyInput, date, replyingTo);
    loadComments();
  }
}
function deleteComment(index) {
  let pageKey = getPageKey();
  let comments = getComments();

  if (index >= 0 && index < comments.length) {
    let deletedComment = comments[index];

    // Lọc ra những bình luận không phải là phản hồi của bình luận bị xóa
    comments = comments.filter(
      (comment) => comment.replyTo !== deletedComment.name
    );

    // Xóa chính bình luận đó
    comments.splice(index, 1);

    localStorage.setItem(pageKey, JSON.stringify(comments));
    loadComments();
  }
}
document.addEventListener("DOMContentLoaded", function () {
  const loginLink = document.getElementById("loginLink");

  function updateLoginUI() {
    if (localStorage.getItem("loggedIn") === "true") {
      loginLink.innerText = "Tài khoản";
      loginLink.href = "TTCN.html";
    } else {
      loginLink.innerText = "Đăng nhập";
      loginLink.href = "dangnhap.html";
    }
  }

  updateLoginUI();
});

///////////////////////////////////////////////////////////
document.addEventListener("DOMContentLoaded", function () {
  const buyNowButtons = document.querySelectorAll(".buy-button");

  buyNowButtons.forEach((button) => {
    button.addEventListener("click", function (event) {
      event.preventDefault();

      // Lấy thông tin sản phẩm
      const productContainer = this.closest(".product-details");
      const productName =
        productContainer.querySelector(".product-title").innerText;
      const productImage = document.querySelector(".image-slider img").src;

      // Lấy giá từ phần tử có class "product-price"
      const productPriceText = productContainer
        .querySelector(".product-price")
        .childNodes[0].nodeValue.trim();
      const productPrice = parseInt(productPriceText.replace(/\D/g, ""), 10); // Chuyển về số

      if (!productName || isNaN(productPrice)) {
        alert("Lỗi: Không thể lấy thông tin sản phẩm!");
        return;
      }

      // Chuyển hướng với thông tin sản phẩm
      window.location.href = `ThanhToan.html?name=${encodeURIComponent(
        productName
      )}&price=${productPrice}&image=${encodeURIComponent(productImage)}`;
    });
  });
});

	</script>
</html>
