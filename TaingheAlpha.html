<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tai nghe Alpha</title>
	  <style>
	  body {
  font-family: "Poppins", sans-serif;
  margin: 0;
  padding: 0;
  background-color: #f5f5f5;
}

.header {
  background-color: #b40000;
  color: white;
  padding: 15px 150px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.header .logo {
  display: flex;
  align-items: center;
}

.header .logo img {
  height: 40px;
  margin-right: 10px;
}

.header .search-bar {
  flex-grow: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
}

.header .search-bar input {
  width: 80%;
  padding: 10px;
  border: none;
  border-radius: 20px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.header .search-bar button {
  background-color: #333;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 20px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.header .search-bar button:hover {
  background-color: #555;
}

.header .icons {
  display: flex;
  align-items: center;
}

.header .icons div {
  margin-left: 15px;
  cursor: pointer;
}

.header .dropdown-menu {
  position: relative;
  margin-left: 20px;
}

.header .dropdown-menu button {
  font-size: 16px;
  background-color: transparent;
  color: white;
  border: none;
  cursor: pointer;
  padding: 10px 20px;
}

.header .dropdown-menu .menu-content {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background-color: white;
  min-width: 200px;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1), 0px 8px 16px rgba(0, 0, 0, 0.2);
  z-index: 1;
  border-radius: 8px;
  overflow: hidden;
  padding: 8px 0;
}

.header .dropdown-menu .menu-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  font-size: 14px;
  transition: background-color 0.3s;
}

.header .dropdown-menu .menu-content a:hover {
  background-color: #f0f0f0;
}
.menu-content a:focus,
.menu-content a:active {
  background-color: rgba(255, 165, 0, 0.2);
}

.dropdown-menu:hover .menu-content {
  display: block;
}
.menu {
  background-color: #000;
  color: white;
  padding: 10px 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 100px;
}

.menu a {
  color: white;
  text-decoration: none;
  font-size: 14px;
  margin: 0 10px;
}

.container-1 {
  width: 80%;
  margin: 20px auto;
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  background-color: #ffffff;
}

.product {
  display: flex;
  gap: 20px;
}
.product img {
  width: 300px;
  border-radius: 10px;
}
.details {
  flex: 1;
}
.price {
  color: red;
  font-size: 24px;
  font-weight: bold;
}
.old-price {
  text-decoration: line-through;
  color: gray;
  margin-left: 10px;
  font-size: 18px;
}
.buy-button {
  background: #b40000;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 18px;
  margin-top: 10px;
}
.buy-button:hover {
  background: #900000;
}
.breadcrumb-title-container {
  padding: 20px;
  background-color: #fff;
  margin-left: 100px;
  margin-right: 100px;
  border-radius: 10px;
}

.breadcrumb a {
  text-decoration: none;
  color: blue;
}

.breadcrumb a:hover {
  color: #b40000;
}

.footer {
  background: #222;
  color: #fff;
  padding: 30px 20px;
  text-align: center;
}

.footer .container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  max-width: 1200px;
  margin: auto;
  gap: 20px;
}

.footer-column {
  flex: 1;
  min-width: 300px;
  padding: 15px;
}

.footer h3 {
  color: #f4b400;
  margin-bottom: 10px;
  font-size: 18px;
}

.footer ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.footer ul li {
  margin-bottom: 10px;
}

.footer a {
  color: #fff;
  text-decoration: none;
}

.footer a:hover {
  color: #fff;
}

.footer-info {
  margin-top: 20px;
  padding-top: 15px;
  border-top: 1px solid #555;
  font-size: 14px;
  color: #ccc;
}

.footer-info p {
  margin: 5px 0;
  text-align: center;
}
.product-description {
  font-size: 16px;
  line-height: 1.5;
  color: rgb(0, 0, 0);
  margin-bottom: 20px;
}

.product-description img {
  display: block;
  margin: 0 auto;
}

.product-info {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
}
.product-video,
.specs-container {
  width: 48%;
}
.product-video iframe {
  width: 100%;
  height: 300px;
  border-radius: 10px;
}
.specs-container table {
  width: 100%;
  border-collapse: collapse;
}
.specs-container th,
.specs-container td {
  border: 1px solid #ddd;
  padding: 8px;
  text-align: left;
}
.chat-input-container {
  display: flex;
  align-items: center;
  border-top: 1px solid #ccc;
}

.chatbox {
  position: fixed;
  bottom: 80px;
  right: 20px;
  width: 300px;
  background: white;
  border-radius: 20px;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  transform: translateY(20px);
  opacity: 0;
  visibility: hidden;
  transition: transform 0.3s ease, opacity 0.3s ease;
}

.chatbox.active {
  transform: translateY(0);
  opacity: 1;
  visibility: visible;
}

.chat-header {
  background: #007bff;
  color: white;
  padding: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-radius: 20px 20px 0 0;
}

.chat-body {
  padding: 10px;
  display: flex;
  flex-direction: column;
  border-radius: 0 0 20px 20px;
}

.chat-input {
  width: 75%;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 10px;
}

.chat-send {
  width: 20%;
  padding: 8px;
  background: #007bff;
  color: white;
  border: none;
  border-radius: 10px;
  cursor: pointer;
}

.chat-send:hover {
  background: #0056b3;
}

.chat-messages {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 10px;
  height: 200px;
  overflow-y: auto;
}

.chat-message {
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.chat-message.user {
  flex-direction: row-reverse;
}

.chat-avatar {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background-color: gray;
}

.chat-content {
  background: #f1f1f1;
  padding: 8px 12px;
  border-radius: 10px;
  max-width: 70%;
}

.chat-message.user .chat-content {
  background: #007bff;
  color: white;
}

.chat-name {
  font-size: 12px;
  font-weight: bold;
  margin-bottom: 2px;
  text-align: left;
}

.chat-nameuser {
  font-size: 12px;
  font-weight: bold;
  margin-bottom: 2px;
  text-align: right;
}

.chat-toggle {
  position: fixed;
  bottom: 30px;
  right: 20px;
  background: #007bff;
  color: white;
  width: 50px;
  height: 50px;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  font-size: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
}

.chat-toggle:hover {
  background: #0056b3;
}

.container-2 {
  max-width: 100%;
  width: 50%;
  background: #c0c0c0;
  padding: 20px;
  border-radius: 30px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
  margin: auto;
  text-align: center;
  margin-bottom: 20px;
  justify-items: center;
}
.stars {
  color: gold;
  font-size: 35px;
}
.rating-bar {
  display: flex;
  align-items: center;
  margin: 5px 0;
  cursor: pointer;
  width: 80%;
}
.bar {
  height: 10px;
  width: 100%;
  background: #333;
  margin-left: 10px;
  border-radius: 5px;
  overflow: hidden;
}
.bar-fill {
  height: 100%;
  background: red;
}
.buttons,
.comment-section {
  margin-top: 10px;
}
.button,
.submit-button {
  background-color: #444;
  color: white;
  border: none;
  padding: 8px 15px;
  cursor: pointer;
  border-radius: 5px;
  margin: 5px;
  width: 50%;
}

.comment-box {
  width: 100%;
  padding: 8px;
  border-radius: 5px;
  border: none;
  margin-top: 10px;
}
.comment-list {
  text-align: left;
  margin-top: 15px;
}
.comment {
  background: #ffffff;
  padding: 10px;
  border-radius: 0px;
  margin: 5px 15px;
}
.reply {
  font-size: 14px;
  color: #ccc;
  margin-left: 10px;
  background: #444;
  padding: 5px;
  border-radius: 5px;
}
.cart-icon {
  position: relative;
  display: flex;
  align-items: center;
}
.cart-count {
  position: absolute;
  top: -10px;
  right: -10px;
  background-color: red;
  color: white;
  font-size: 12px;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease-in-out;
}
.cart-container {
  width: 80%;
  margin: 50px auto;
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
}

.add-to-cart {
  background-color: #b40000 !important;
  color: white !important;
  padding: 10px 20px;
  border: none !important;
  border-radius: 5px;
  cursor: pointer;
  font-size: 18px;
  margin-top: 10px;
  transition: background-color 0.3s;
}

.add-to-cart:hover {
  background-color: #8c0000 !important;
}

.cart-count.updated {
  transform: scale(1.2);
}

.an {
  display: none;
}
.button1 {
  padding: 12px 20px;
  background: rgb(34, 109, 142);
  color: white;
  font-size: 10px;
  font-weight: bold;
  border: none;
  cursor: pointer;
  border-radius: 25px;
  display: block;
  margin: 15px auto;
  transition: 0.3s;
  outline: none;
  box-shadow: 0 4px 6px rgba(137, 184, 234, 0.2);
}
.button1:hover {
  background: linear-gradient(to right, #5aa6d9, #3cb3ef);
  transform: scale(1.05);
}
.button1:active {
  transform: scale(0.95);
}

	  </style>
  </head>
	<body>
    <div class="header">
      <div class="logo">
        <img src="Ảnh/ho.jpg" width="60" height="60" alt="" />
        <strong>KTSShop.com.vn</strong>
      </div>
      <div class="dropdown-menu">
        <button>Danh mục</button>
        <div class="menu-content">
          <a href="ĐienThoai.html">Điện thoại</a>
            <a href="laptop.html">Laptop</a>
            <a href="DienLanhShop.html">Điện máy</a>
            <a href="phukien.html">Phụ kiện</a>
            <a href="dogiadung.html">Đồ gia dụng</a>
        </div>
      </div>
      <div class="search-bar">
        <input
        type="text" id="searchInput"
        placeholder="Nhập tên điện thoại, máy tính, phụ kiện... cần tìm"
      />
      <button id="searchButton">Tìm kiếm</button>
      </div>
      <div class="icons">
        <a
          id="loginLink"
          href="dangnhap.html"
          style="color: white; text-decoration: none"
        >
          Đăng nhập
        </a>
        <div>
          <a
            href="ShoppingCart.html"
            style="color: white; text-decoration: none"
          >
            <div class="cart-icon">
              🛒 Giỏ hàng
              <div class="cart-count">0</div>
            </div>
          </a>
        </div>
      </div>
    </div>

    <div class="menu">
    <a>Mọi thiết bị công nghệ bạn cần – Tất cả chỉ bằng một cú nhấp chuột!</a>
		<a>Bảo hành chính hãng, sale nhiều, giảm sâu</a>
		<a>Mua iPhone 16 Pro Max chính hãng, giá tốt, nhiều ưu đãi tại KTSShop.com.vn</a>
    </div>
    <div class="container-1">
      <div class="breadcrumb">
        <a href="Demo.html">Trang chủ</a>/ 
        <a href="phukien.html">Phụ kiện</a>/
        <a href="TaingheAlpha.html">Alpha</a>
      </div>
      <h1>Chi tiết sản phẩm</h1>
      <div class="product">
        <img
          src="Ảnh/Tai_nghe_Bluetooth_nhet_tai_Alpha_Works_CURVE_300_Den_1_247e78b880.jpg"
          width="auto"
          height="300"
          alt=""
        />
        <div class="details">
          <h2>Tai nghe Bluetooth Alpha Works CURVE300</h2>
          <p class="price">
            499.000 ₫ <span class="old-price">599.000 ₫</span>
          </p>
          <div
            class="promotion-box"
            style="
              border: 1px solid red;
              padding: 5px;
              margin-bottom: 5px;
              width: fit-content;
              font-size: 14px;
            "
          >
            <strong>Khuyến mãi nổi bật</strong>
            <p style="margin: 5px 0">Giảm ngay 100,000đ</p>
          </div>
          <button class="buy-button">Mua ngay</button>
          <button
  class="add-to-cart"
  data-id="Tai nghe Alpha"
  data-name="Tai nghe Bluetooth Alpha Works CURVE300"
  data-price="499000"
  data-old-price="599000"
  data-color="Đen"
  data-storage="40 giờ"
  data-image="Ảnh/Tai_nghe_Bluetooth_nhet_tai_Alpha_Works_CURVE_300_Den_1_247e78b880.jpg"
  onclick="addToCart(this)"
>
  Thêm vào giỏ hàng
</button>

          <br />
          <br />
          <div
            class="fb-like"
            data-href="https://developers.facebook.com/docs/plugins/"
            data-width="80"
            data-layout=""
            data-action=""
            data-size=""
            data-share="true"
          ></div>
        </div>
      </div>

      <div class="product-info">
        <div class="product-video">
          <h2>Video liên quan</h2>
          <iframe
            src="https://www.youtube.com/embed/cy5qRMEczAQ"
            frameborder="0"
            allowfullscreen
          ></iframe>
        </div>
        <div class="specs-container">
          <h2>Thông số kỹ thuật</h2>
          <table>
            <tr>

              <th>Hãng</th>
              <td>HONOR</td>
            </tr>
            <tr>
              <th>Kết nối</th>
              <td>Bluetooth 5.3</td>
            </tr>
            <tr>
              <th>Thời lượng pin</th>
              <td>40 giờ</td>
            </tr>
            <tr>
              <th>Phạm vi kết nối</th>
              <td>Lên đến 10m (không vật cản)</td>
            </tr>
            <tr>
              <th>Cổng sạc</th>
              <td>USB-C</td>
            </tr>
            <tr>
              <th>Trọng lượng</th>
              <td>4.8g mỗi bên tai nghe</td>
            </tr>
            <tr>
              <th>Tương thích</th>
              <td>iOS, Android, Windows</td>
            </tr>
          </table>
        </div>
      </div>
      <div class="product-description">
        <h2>Mô tả sản phẩm</h2>
        <p>
        Tai nghe Bluetooth Alpha Works CURVE 300 là một sản phẩm âm thanh nổi
        bật của thương hiệu Alpha Works, đáp ứng nhu cầu của những người yêu âm
        nhạc chất lượng cao. Với thiết kế nhỏ gọn và hỗ trợ dải tần số rộng
        20Hz-20KHz, thiết bị này mang lại trải nghiệm âm thanh sống động và chân
        thực. Bên cạnh đó, thời lượng pin ấn tượng cùng khả năng kết nối ổn định
        giúp CURVE 300 trở thành lựa chọn lý tưởng trong phân khúc tai nghe
        Bluetooth dưới 1 triệu đồng.
      </p>
      <div id="them-thong-tin" class="an">
      <img src="Ảnh/nghealpha.jpg" width="400" height="auto">
        <h3>Thiết kế hiện đại và nhỏ gọn, dễ dàng mang theo mọi lúc</h3>
      <p>
        Tai nghe Bluetooth Alpha Works CURVE 300 sở hữu thiết kế nhỏ gọn và trọng lượng nhẹ, giúp bạn dễ dàng mang theo mọi lúc, mọi nơi. Sử dụng chất liệu hợp kim kẽm (Zinc Alloy), tai nghe mang đến sự bền bỉ và vẻ ngoài cao cấp, sang trọng. Đồng thời, với màu đen/xám tối giản cùng các chi tiết gia công tỉ mỉ, CURVE 300 đáp ứng tốt về mặt thẩm mỹ lẫn công năng. Hộp sạc nhỏ gọn được tích hợp cổng USB Type-C hiện đại, giúp việc sạc pin trở nên đơn giản và nhanh chóng hơn, hoàn toàn phù hợp với đa số người dùng, đặc biệt là các bạn trẻ.
      </p>
        <img src="Ảnh/nghealpha1.jpg" width="400" height="auto">
        <h3>Tích hợp chuẩn kháng nước IPX4, phù hợp để sử dụng ngoài trời</h3>
        <p>Tai nghe Alpha Works CURVE 300 nổi bật với khả năng kháng nước chuẩn IPX4. Chính vì thế, thiết bị này có thể hoạt động tốt ngay cả khi bạn sử dụng trong điều kiện thời tiết ẩm ướt hoặc khi tập luyện thể thao, đổ mồ hôi. Qua đó, tai nghe không những đảm bảo sự bền bỉ mà còn mang đến sự an tâm trong quá trình sử dụng. Với IPX4, CURVE 300 trở thành người bạn đồng hành không thể thiếu trong các hoạt động ngoài trời, từ đi bộ, chạy bộ đến đạp xe mà không phải lo lắng về tác động của nước.
        </p>
        <img src="Ảnh/alpha1.jpg" width="400" height="auto">
        <h3>Dải tần số 20Hz đến 20KHz, tái tạo âm thanh chi tiết và rõ nét</h3>
        <p>Alpha Works CURVE 300 mang đến chất lượng âm thanh vượt trội nhờ dải tần số từ 20Hz đến 20KHz. Đây là phạm vi lý tưởng để tái tạo âm thanh từ những âm trầm sâu lắng đến các âm cao rõ nét. Được thiết kế để tối ưu hóa trải nghiệm âm nhạc, tai nghe giúp người dùng cảm nhận được từng chi tiết trong bài hát, từ tiếng nhạc cụ đến giọng hát. Dù bạn đang nghe nhạc, xem phim hay tham gia cuộc gọi, CURVE 300 vẫn đảm bảo chất lượng âm thanh sống động và chân thực nhất.</p>
      </div>
      <button id="xemThemBtn" class="button1">Xem Thêm</button>
    </div>
  </div>

    <div class="chatbox">
      <div class="chat-header">
        <span>💬 Hỗ trợ khách hàng</span>
        <button class="chat-close">✖</button>
      </div>
      <div class="chat-body">
        <div class="chat-messages"></div>
        <div class="chat-input-container">
          <input
            type="text"
            class="chat-input"
            placeholder="Nhập tin nhắn..."
          />
          <button class="chat-send">Gửi</button>
        </div>
      </div>
    </div>
    <button class="chat-toggle">💬</button>


    <div class="container-2">
      <h2>Đánh giá về sản phẩm</h2>
      <h1 id="average-rating">3.8</h1>
      <p id="total-reviews">21 lượt đánh giá</p>
      <div class="stars">★★★★☆</div>

      <div class="rating-bar" onclick="addRating(5)">
        5★
        <div class="bar">
          <div class="bar-fill" id="bar-5" style="width: 50%"></div>
        </div>
        <span id="count-5">10</span>
      </div>
      <div class="rating-bar" onclick="addRating(4)">
        4★
        <div class="bar">
          <div class="bar-fill" id="bar-4" style="width: 20%"></div>
        </div>
        <span id="count-4">4</span>
      </div>
      <div class="rating-bar" onclick="addRating(3)">
        3★
        <div class="bar">
          <div class="bar-fill" id="bar-3" style="width: 10%"></div>
        </div>
        <span id="count-3">2</span>
      </div>
      <div class="rating-bar" onclick="addRating(2)">
        2★
        <div class="bar">
          <div class="bar-fill" id="bar-2" style="width: 10%"></div>
        </div>
        <span id="count-2">2</span>
      </div>
      <div class="rating-bar" onclick="addRating(1)">
        1★
        <div class="bar">
          <div class="bar-fill" id="bar-1" style="width: 15%"></div>
        </div>
        <span id="count-1">3</span>
      </div>

      <div class="comment-section">
        <textarea
          class="comment-box"
          id="comment"
          placeholder="Viết đánh giá..."
        ></textarea>
        <button class="submit-button" onclick="submitComment()">Gửi</button>
        <div id="comments" class="comment-list"></div>
      </div>
    </div>


  <footer class="footer">
    <div class="container">
      <div class="footer-column">
        <h3>Chăm sóc khách hàng</h3>
        <ul>
          <li><a href="#">Chính sách bảo hành</a></li>
          <li><a href="#">Chính sách đổi trả</a></li>
          <li><a href="#">Chính sách bảo mật</a></li>
          <li><a href="#">Chính sách vận chuyển</a></li>
          <li><a href="#">Điều khoản sử dụng</a></li>
        </ul>
      </div>

      <div class="footer-column">
        <h3>Thông tin về website</h3>
        <p>Website bán các sản phẩm kỹ thuật số</p>
        <p>📍 Địa chỉ: Trường Đại Học Tài chính - Ngân hàng Hà Nội</p>
        <p>31 Dịch Vọng Hậu - Cầu Giấy - Hà Nội</p>
      </div>

      <div class="footer-column">
        <h3>Phương Thức Thanh Toán</h3>
        <p>💳 Thanh toán qua thẻ: Visa, MasterCard</p>
        <p>🏦 Chuyển khoản ngân hàng</p>
        <p>📲 Ví điện tử: Momo, ZaloPay</p>
        <p>💰 Thanh toán khi nhận hàng (COD)</p>
      </div>
    </div>

    <div class="footer-info">
      <p>© 2025 KTSShop.com.vn. Tất cả quyền được bảo lưu.</p>
      <p>Website được phát triển bởi nhóm 6 môn TMVNHDT. Liên hệ:</p>
      <p>
        <strong>Thành viên:</strong> Nguyễn Hữu Khánh - MSV: 2254800023023 -
        Email:
        <a href="mailto:huukhanh1311@gmail.comcom"
          >huukhanh1311huukhanh1311@gmail.com</a
        >
        - SĐT: <a href="tel:0982392452">0982392452</a> - Điện Thoại
      </p>
    </div>
  </footer>

    <script>
	document.addEventListener("DOMContentLoaded", function () {
  const chatbox = document.querySelector(".chatbox");
  const chatToggle = document.querySelector(".chat-toggle");
  const chatClose = document.querySelector(".chat-close");
  const chatInput = document.querySelector(".chat-input");
  const chatSend = document.querySelector(".chat-send");
  const chatMessages = document.querySelector(".chat-messages");

  chatToggle.addEventListener("click", () => {
    chatbox.classList.toggle("active");
    chatToggle.style.display = chatbox.classList.contains("active")
      ? "none"
      : "block";
  });

  chatClose.addEventListener("click", () => {
    chatbox.classList.remove("active");
    setTimeout(() => {
      chatToggle.style.display = "block";
    }, 300);
  });

  function addMessage(name, message, isUser = false) {
    let msgElement = document.createElement("div");
    msgElement.classList.add("chat-message");
    if (isUser) msgElement.classList.add("user");

    msgElement.innerHTML = `
        <img class="chat-avatar" src="${
          isUser
            ? "Ảnh/default-avatar-profile-icon-social-media-user-image-gray-avatar-icon-blank-profile-silhouette-illustration-vector.jpg"
            : "Ảnh/ho.jpg"
        }" alt="Avatar">
        <div class="chat-content-wrapper">
            <div class="${isUser ? "chat-nameuser" : "chat-name"}">${name}</div>
            <div class="chat-content">${message}</div>
        </div>
    `;

    chatMessages.appendChild(msgElement);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }

  chatSend.addEventListener("click", () => {
    let message = chatInput.value.trim();
    if (message) {
      addMessage("Bạn", message, true);
      chatInput.value = "";
      setTimeout(
        () =>
          addMessage(
            "KTSShop",
            "Chào mừng đến với KTSShop.com.vn. Bạn cần gì?"
          ),
        1000
      );
    }
  });

  chatInput.addEventListener("keypress", (e) => {
    if (e.key === "Enter") {
      chatSend.click();
    }
  });
});
///////////////////
function addRating(star) {
  let count = document.getElementById(`count-${star}`);
  let bar = document.getElementById(`bar-${star}`);
  let newCount = parseInt(count.textContent) + 1;
  count.textContent = newCount;
  let totalReviews = document.getElementById("total-reviews");
  let total = parseInt(totalReviews.textContent) + 1;
  totalReviews.textContent = `${total} lượt đánh giá`;

  bar.style.width = `${(newCount / total) * 100}%`;
}

function submitComment() {
  let commentBox = document.getElementById("comment");
  let commentText = commentBox.value.trim();
  if (commentText !== "") {
    let comments = document.getElementById("comments");
    let newComment = document.createElement("div");
    newComment.classList.add("comment");
    newComment.textContent = commentText;

    let reply = document.createElement("div");
    reply.classList.add("reply");
    reply.textContent = "Cảm ơn bạn đã để lại đánh giá!";
    newComment.appendChild(reply);

    comments.prepend(newComment);
    commentBox.value = "";
  }
}

///////////////
function addToCart(button) {
  const product = {
    id: button.dataset.id,
    name: button.dataset.name,
    price: parseInt(button.dataset.price),
    oldPrice: parseInt(button.dataset.oldPrice) || 0,
    image: button.dataset.image,
    color: button.dataset.color || "Không xác định",
    storage: button.dataset.storage || "Không áp dụng",
    quantity: 1,
  };

  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  const existingItem = cart.find((item) => item.id === product.id);

  if (existingItem) {
    existingItem.quantity++;
  } else {
    cart.unshift(product);
  }

  localStorage.setItem("cart", JSON.stringify(cart));
  alert("Đã thêm vào giỏ hàng 🎉");
  updateCartCounter();
}
function updateCartCounter() {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
  document.querySelector(".cart-count").textContent = totalItems;
}
////////////
document.addEventListener("DOMContentLoaded", function () {
  let cartCount = localStorage.getItem("cartCount") || 0;
  updateCartDisplay(cartCount);

  document.querySelectorAll(".add-to-cart").forEach((button) => {
    button.addEventListener("click", function () {
      let currentCount = parseInt(localStorage.getItem("cartCount") || 0);
      currentCount++;
      localStorage.setItem("cartCount", currentCount);
      updateCartDisplay(currentCount);
    });
  });
});

function updateCartDisplay(count) {
  let cartBadge = document.querySelector(".cart-count");
  if (cartBadge) {
    if (count > 0) {
      cartBadge.textContent = count;
      cartBadge.style.display = "flex";
    } else {
      cartBadge.style.display = "none";
    }
  }
}
////////////////
document.getElementById("xemThemBtn").addEventListener("click", function () {
  let themThongTin = document.getElementById("them-thong-tin");
  if (
    themThongTin.style.display === "none" ||
    themThongTin.style.display === ""
  ) {
    themThongTin.style.display = "block";
    this.innerHTML = "Thu gọn ▲ ";
  } else {
    themThongTin.style.display = "none";
    this.textContent = "Xem thêm ▼ ";
  }
});

////////////////
document.addEventListener("DOMContentLoaded", function () {
  const searchInput = document.getElementById("searchInput");
  const searchButton = document.getElementById("searchButton");

  if (searchButton && searchInput) {
    searchButton.addEventListener("click", function () {
      let keyword = searchInput.value.trim().toLowerCase();
      if (keyword) {
        window.location.href = `Search.html?search=${encodeURIComponent(
          keyword
        )}`;
      }
    });

    searchInput.addEventListener("keypress", function (e) {
      if (e.key === "Enter") {
        searchButton.click();
      }
    });
  }
});
/////////////////
document.addEventListener("DOMContentLoaded", function () {
  const loginLink = document.getElementById("loginLink");

  function updateLoginUI() {
    if (localStorage.getItem("loggedIn") === "true") {
      loginLink.innerText = "Tài khoản";
      loginLink.href = "TTCN.html";
    } else {
      loginLink.innerText = "Đăng nhập";
      loginLink.href = "dangnhap.html";
    }
  }

  updateLoginUI();
});
	
	</script>
    <script
      async
      defer
      crossorigin="anonymous"
      src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v22.0"
    ></script>
  </body>
</html>
