<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Samsung Galaxy Z Flip4</title>
    <style>
	  :root {
  --primary-color: #007bff;
  --secondary-color: #0056b3;
  --background-color: #f5f5f5;
  --text-color: #000;
}

body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
  background-color: var(--background-color);
  color: var(--text-color);
}

.header {
  background-color: #b40000;
  color: white;
  padding: 15px 150px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.header .logo {
  display: flex;
  align-items: center;
}

.header .logo img {
  height: 50px;
  width: auto;
  margin-right: 10px;
}

.header .search-bar {
  flex-grow: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
}

.header .search-bar input {
  width: 60%;
  padding: 10px;
  border: none;
  border-radius: 20px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.header .search-bar button {
  background-color: #333;
  color: white;
  width: 12%;
  border: none;
  padding: 9px 12px;
  border-radius: 20px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.header .search-bar button:hover {
  background-color: #555;
}

.header .icons {
  display: flex;
  align-items: center;
}

.header .icons div {
  margin-left: 15px;
  cursor: pointer;
}

.header .dropdown-menu {
  position: relative;
  margin-left: 20px;
}

.header .dropdown-menu button {
  font-size: 16px;
  background-color: transparent;
  color: white;
  border: none;
  cursor: pointer;
}

.header .dropdown-menu .menu-content {
  display: block;
  opacity: 0;
  transform: translateY(-10px);
  position: absolute;
  top: 100%;
  left: 0;
  background-color: #333;
  min-width: 150px;
  box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
  z-index: 1;
  border-radius: 10px;
  transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s;
  visibility: hidden;
}

.header .dropdown-menu:hover .menu-content {
  opacity: 1;
  transform: translateY(0);
  visibility: visible;
}

.header .dropdown-menu .menu-content a {
  color: white;
  padding: 10px;
  text-decoration: none;
  display: block;
  border-radius: 10px;
}

.header .dropdown-menu .menu-content a:hover {
  background-color: #575757;
}

.menu {
  background-color: #000;
  color: white;
  padding: 10px 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 95px;
}

.menu a {
  color: white;
  text-decoration: none;
  font-size: 14px;
  margin: 0 10px;
}

.cart-icon {
  position: relative;
  display: flex;
  align-items: center;
}
.cart-count {
  position: absolute;
  top: -5px;
  right: -10px;
  background-color: red;
  color: white;
  font-size: 12px;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.breadcrumb-title-container {
  padding: 20px;
  background-color: #f5f5f5;
  margin-left: 100px;
  margin-right: 100px;
  border-radius: 10px;
}

.breadcrumb a {
  text-decoration: none;
  color: #333;
}

.breadcrumb a:hover {
  color: #b40000;
}

.carousel {
  position: relative;
  max-width: 100%;
  margin: auto;
  overflow: hidden;
  border-radius: 20px;
}

.carousel-images {
  display: flex;
  transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
}

.carousel-images img {
  width: 100%;
  height: auto;
  flex-shrink: 0;
  object-fit: cover;
}

.carousel-buttons {
  position: absolute;
  top: 50%;
  width: 100%;
  display: flex;
  justify-content: space-between;
  transform: translateY(-50%);
}

.carousel-buttons button {
  background-color: rgba(0, 0, 0, 0.5);
  border: none;
  color: white;
  padding: 10px;
  cursor: pointer;
  border-radius: 50%;
}

.product {
  display: flex;
  flex-wrap: wrap;
}

.product-image {
  flex: 1;
  max-width: 23%;
  padding: 20px;
}

.product-image img {
  width: 80%;
  max-width: 300px;
  border-radius: 10px;
  display: block;
}

.product img {
  width: 100%;
  height: auto;
  object-fit: contain;
  transition: transform 0.3s ease-in-out;
}

.product-info {
  flex: 1;
  max-width: 50%;
  padding: 20px;
  margin-left: 100px;
  justify-content: center;
}

.product-title {
  font-size: 28px;
  font-weight: bold;
  margin-bottom: 10px;
}

.product-price {
  font-size: 24px;
  color: black;
  margin: 10px 0;
}

.product .old-price {
  text-decoration: line-through;
  color: #888;
  font-size: 14px;
}

.product-options {
  margin: 20px 0;
}

.product-options label {
  font-size: 18px;
  margin-right: 10px;
}

.product-options select {
  padding: 8px;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 20px;
  outline: none;
  background-color: white;
  cursor: pointer;
}

.product-container {
  margin-top: 10px;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 20px;
}

.product-video,
.product-specs {
  width: 50%;
  height: 350px;
  background-color: #f8f9fa;
  padding: 15px;
  border-radius: 30px;
  font-size: 14px;
  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
}

.product-video iframe {
  width: 100%;
  height: 300px;
  border-radius: 10px;
}

.product-specs h3,
.product-video h3 {
  font-size: 18px;
  text-align: center;
  font-weight: bold;
  margin-bottom: 10px;
}

.product-specs .spec-item {
  font-size: 16px;
  margin-bottom: 5px;
}

.product-details {
  width: 25%;
  height: auto;
  display: flex;
  justify-content: space-between;
  margin-top: 15px;
  gap: 20px;
  margin-top: 20px;
}

.product-description,
.product-gifts {
  width: 80%;
  background-color: #f5f5f5;
  padding: 15px;
  border-radius: 10px;
  font-size: 14px;
  margin-top: 20px;
  margin: 0 auto;
}

.product-description img {
  border-radius: 10px;
  display: block;
  margin: 0 auto;
}

.product-gifts h3 {
  font-size: 18px;
  margin-bottom: 10px;
  text-align: center;
}

.product-gifts ul {
  list-style: none;
  padding: 0;
}

.product-gifts li {
  font-size: 14px;
  margin-bottom: 5px;
  display: flex;
  align-items: center;
  color: red;
}

.product-description h2 {
  font-size: 18px;
  text-align: center;
  font-weight: bold;
  margin-bottom: 10px;
}

.product-description p {
  font-size: 16px;
  line-height: 1.6;
  text-align: justify;
  margin-bottom: 10px;
}

.buttons {
  margin: 20px 0;
}

.buttons button {
  padding: 10px 20px;
  font-size: 18px;
  margin-right: 10px;
  background-color: red;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  color: white;
}

.buttons button:hover {
  background-color: #c80101;
}

.an {
  display: none;
}

.button1 {
  padding: 12px 20px;
  background: linear-gradient(to right, #5aa6d9, #3cb3ef);
  color: white;
  font-size: 10px;
  font-weight: bold;
  border: none;
  cursor: pointer;
  border-radius: 25px;
  display: block;
  margin: 15px auto;
  transition: 0.3s;
  outline: none;
  box-shadow: 0 4px 6px rgba(137, 184, 234, 0.2);
}

.button1:hover {
  background: rgb(34, 109, 142);
  transform: scale(1.05);
}

.button1:active {
  transform: scale(0.95);
}

.spec-item {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}

.spec-item span {
  font-size: 18px;
}

.custom-divider {
  width: 100%;
  height: 2px;
  background-color: #000;
  margin-top: 20px;
}

.rating-container {
  max-width: 100%;
  width: 45%;
  margin: auto;
  margin-bottom: 20px;
  padding: 20px;
  border: 1px solid #ddd;
  border-radius: 30px;
  text-align: center;
  background-color: #f8f9fa;
  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
}

.average-rating {
  font-size: 48px;
  font-weight: bold;
}

.stars {
  color: #ffd700;
  font-size: 24px;
}

.rating-bar {
  width: 100%;
  display: flex;
  align-items: center;
  margin: 5px 0;
}

.bar {
  flex: 1;
  height: 10px;
  background: black;
  border-radius: 5px;
  margin: 0 10px;
  position: relative;
}
.bar-fill {
  height: 100%;
  background: red;
  width: 0%;
  border-radius: 5px;
}

.rate-buttons {
  display: flex;
  justify-content: center;
  margin-top: 10px;
}

.rate-buttons button {
  padding: 10px;
  font-size: 16px;
  margin: 5px;
  cursor: pointer;
  border: none;
  background: #c0c0c0;
  border-radius: 20px;
  margin-bottom: 20px;
}

.rate-buttons button:hover {
  background: gold;
}

.comment-box {
  display: flex;
  gap: 10px;
  margin: auto;
  margin-top: 10px;
}

.comment-box input {
  width: 80%;
  padding: 10px;
  border: 1px solid black;
  border-radius: 20px;
  margin: auto;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.btn-send {
  background: red;
  color: white;
  border: none;
  padding: 10px;
  cursor: pointer;
  border-radius: 30px;
}

.footer {
  background: #222;
  color: #fff;
  padding: 30px 20px;
  text-align: center;
}

.footer .container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  max-width: 1200px;
  margin: auto;
  gap: 20px;
}

.footer-column {
  flex: 1;
  min-width: 300px;
  padding: 15px;
}

.footer h3 {
  color: #f4b400;
  margin-bottom: 10px;
  font-size: 18px;
}

.footer ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.footer ul li {
  margin-bottom: 10px;
}

.footer a {
  color: #fff;
  text-decoration: none;
}

.footer a:hover {
  color: #fff;
}

.footer-info {
  margin-top: 20px;
  padding-top: 15px;
  border-top: 1px solid #555;
  font-size: 14px;
  color: #ccc;
}

.footer-info p {
  margin: 5px 0;
  text-align: center;
}

.chat-input-container {
  display: flex;
  align-items: center;
  border-top: 1px solid #ccc;
}

.chatbox {
  position: fixed;
  bottom: 80px;
  right: 20px;
  width: 300px;
  background: white;
  border-radius: 20px;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  transform: translateY(20px);
  opacity: 0;
  visibility: hidden;
  transition: transform 0.3s ease, opacity 0.3s ease;
}

.chatbox.active {
  transform: translateY(0);
  opacity: 1;
  visibility: visible;
}

.chat-header {
  background: #007bff;
  color: white;
  padding: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-radius: 20px 20px 0 0;
}

.chat-body {
  padding: 10px;
  display: flex;
  flex-direction: column;
  border-radius: 0 0 20px 20px;
}

.chat-input {
  width: 75%;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 10px;
}

.chat-send {
  width: 20%;
  padding: 8px;
  background: #007bff;
  color: white;
  border: none;
  border-radius: 10px;
  cursor: pointer;
}

.chat-send:hover {
  background: #0056b3;
}

.chat-messages {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 10px;
  height: 200px;
  overflow-y: auto;
}

.chat-message {
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.chat-message.user {
  flex-direction: row-reverse;
}

.chat-avatar {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background-color: gray;
}

.chat-content {
  background: #f1f1f1;
  padding: 8px 12px;
  border-radius: 10px;
  max-width: 70%;
}

.chat-message.user .chat-content {
  background: #007bff;
  color: white;
}

.chat-name {
  font-size: 12px;
  font-weight: bold;
  margin-bottom: 2px;
  text-align: left;
}

.chat-nameuser {
  font-size: 12px;
  font-weight: bold;
  margin-bottom: 2px;
  text-align: right;
}

.chat-toggle {
  position: fixed;
  bottom: 30px;
  right: 20px;
  background: #007bff;
  color: white;
  width: 50px;
  height: 50px;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  font-size: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
}

.chat-toggle:hover {
  background: #0056b3;
}

@media (max-width: 768px) {
  .product {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .product-image {
    max-width: 100%;
    padding: 10px;
  }

  .product-info {
    max-width: 100%;
    padding: 10px;
    margin-left: 0;
  }

  .product-video,
  .product-specs {
    width: 100%;
    height: auto;
    padding: 10px;
  }

  .product-description,
  .product-gifts {
    width: 90%;
    padding: 10px;
  }

  .buttons {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .buttons button {
    width: 80%;
    margin-bottom: 10px;
  }

  .rating-container {
    width: 90%;
  }

  .comment-box {
    flex-direction: column;
    align-items: center;
  }

  .comment-box input {
    width: 90%;
  }
}
</style>
  </head>
  <body>
    <div class="header">
      <div class="logo">
        <img
          src="Ảnh/z6322794975136_70f7ef48558d457e4384cf3304b8fc8d.jpg"
          width="60"
          height="60"
          alt=""
        />
        <strong>KTSShop.com.vn</strong>
      </div>
      <div class="dropdown-menu">
        <button>☰ Danh mục</button>
        <div class="menu-content">
          <a href="ĐienThoai.html">Điện thoại</a>
          <a href="laptop.html">Laptop</a>
          <a href="DienLanhShop.html">Điện máy</a>
          <a href="phukien.html">Phụ kiện</a>
          <a href="dogiadung.html">Đồ gia dụng</a>
        </div>
      </div>
      <div class="search-bar">
        <input
          type="text"
          id="searchInput"
          placeholder="Nhập tên điện thoại, máy tính, phụ kiện... cần tìm"
        />
        <button id="searchButton">Tìm kiếm</button>
      </div>

      <div class="icons">
        <a
          id="loginLink"
          href="dangnhap.html"
          style="color: white; text-decoration: none"
        >
          Đăng nhập
        </a>
        <a href="ShoppingCart.html" style="color: white; text-decoration: none">
          <div class="cart-icon">
            🛒 Giỏ hàng
            <div class="cart-count">0</div>
          </div>
        </a>
      </div>
    </div>

    <div class="menu">
      <a>Mọi thiết bị công nghệ bạn cần – Tất cả chỉ bằng một cú nhấp chuột!</a>
      <a>Bảo hành chính hãng, sale nhiều, giảm sâu</a>
      <a
        >Mua iPhone 16 Pro Max chính hãng, giá tốt, nhiều ưu đãi tại
        KTSShop.com.vn</a
      >
    </div>
    <div class="breadcrumb-title-container">
      <div class="breadcrumb">
        <a href="Demo.html" style="color: blue; text-decoration: none"
          >Trang chủ</a
        >
        /
        <a href="ĐienThoai.html" style="color: blue; text-decoration: none"
          >Điện thoại</a
        >
        /
        <a
          href="SamsungGalaxyZPlip4.html"
          style="color: black; text-decoration: none"
          >Samsung Galaxy Z Flip4 5G</a
        >
      </div>
      <div
        class="product"
        data-id="2"
        data-name="Samsung Galaxy Z Flip4"
        data-price="9990000"
        data-image="Ảnh/2022_8_10_637957658354316100_samsung-galaxy-z-flip4-tim-1.jpg"
      >
        <div class="product-image">
          <div class="carousel">
            <div class="carousel-images">
              <img
                src="Ảnh/2022_8_10_637957658354316100_samsung-galaxy-z-flip4-tim-1.jpg"
                width="1000"
                height="253"
                alt=""
              />
              <img
                src="Ảnh/2022_8_10_637957685772850661_samsung-galaxy-z-flip4-vang-1.jpg"
                width="1000"
                height="253"
                alt=""
              />
              <img
                src="Ảnh/2022_8_10_637957695058070860_samsung-galaxy-z-flip4-xanh-1.jpg"
                width="1000"
                height="253"
                alt=""
              />
              <img
                src="Ảnh/2022_8_10_637957667752370272_samsung-galaxy-z-flip4-xam-1.jpg"
                width="1000"
                height="253"
                alt=""
              />
            </div>
            <div class="carousel-buttons">
              <button id="prev">&#10094;</button>
              <button id="next">&#10095;</button>
            </div>
          </div>
        </div>
        <div class="product-info">
          <div class="product-title">Samsung Galaxy Z Flip4 5G 128GB</div>

          <div class="product-options">
            <label for="storage">Dung lượng:</label>
            <select id="storage" onchange="updatePrice()">
              <option value="128GB">128GB</option>
            </select>
          </div>
          <div class="product-options">
            <label for="color">Màu sắc:</label>
            <select id="color" onchange="updatePrice()">
              <option value="Tím">Tím</option>
              <option value="Vàng">Vàng</option>
            </select>
          </div>
          <div class="product-price">
            <span class="old-price" id="old-price">23.990.000 ₫</span>
            <span class="new-price" id="price">9.990.000₫</span>
          </div>
          <div class="buttons">
            <button onclick="buyNow()">Mua ngay</button>
            <button onclick="addToCart()">Thêm vào giỏ hàng</button>
          </div>
          <div
            class="fb-like"
            data-href="https://developers.facebook.com/docs/plugins/"
            data-width="200"
            data-layout=""
            data-action=""
            data-size=""
            data-share="true"
          ></div>
        </div>
        <div class="product-details">
          <div class="product-gifts">
            <h3>Quà tặng và ưu đãi khi mua hàng</h3>
            <ul>
              <li>✔️ Cường lực miễn phí - Tặng kèm khi mua hàng</li>
              <li>✔️ Ốp lưng chính hãng</li>
              <li>✔️ Hàng chính hãng - Bảo hành 12 tháng</li>
              <li>✔️ Giao hàng toàn quốc</li>
              <li>
                ✔️ Trả góp 0% lãi suất, MIỄN PHÍ chuyển đổi kì hạn 3 - 6 tháng
                qua thẻ tín dụng
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="custom-divider">&nbsp;&nbsp;</div>
      <div class="product-container">
        <div class="product-specs">
          <h3>Thông số nổi bật</h3>
          <div class="spec-item">
            <span>Chip:</span>
            <span>Snapdragon 8+ Gen 1</span>
          </div>
          <div class="spec-item">
            <span>Kích thước màn hình:</span>
            <span>6.7"</span>
          </div>
          <div class="spec-item">
            <span>Thời lượng pin:</span>
            <span>3700 mAh</span>
          </div>
          <div class="spec-item">
            <span>Kết nối NFC:</span>
            <span>Có</span>
          </div>
          <div class="spec-item">
            <span>Công nghệ màn hình:</span>
            <span>Dynamic AMOLED 2X</span>
          </div>
          <div class="spec-item">
            <span>Tần số quét:</span>
            <span>120Hz</span>
          </div>
          <div class="spec-item">
            <span>Độ phân giải:</span>
            <span>1080 x 2636 pixel</span>
          </div>
          <div class="spec-item">
            <span>Chất liệu:</span>
            <span>Kim loại</span>
          </div>
          <div class="spec-item">
            <span>Trọng lượng:</span>
            <span>183g</span>
          </div>
          <div class="spec-item">
            <span>Camera trước:</span>
            <span>12MP</span>
          </div>
          <div class="spec-item">
            <span>Camera sau:</span>
            <span>12MP + 12MP</span>
          </div>
        </div>

        <div class="product-video">
          <h3>Video liên quan</h3>
          <iframe
            width="560"
            height="315"
            src="https://www.youtube.com/embed/c285IBwjsCI"
            frameborder="0"
            allowfullscreen
          >
          </iframe>
        </div>
      </div>
      <div class="product-description">
        <h2>Mô tả sản phẩm</h2>
        <h3>Chiếc smartphone thời trang nhất bạn từng thấy</h3>
        <p>
          Nhỏ gọn và tinh tế, Samsung Galaxy Z Flip4 là chiếc smartphone sinh ra
          dành cho các tín đồ thời trang. Cơ chế gập duyên dáng, bộ màu sắc nhẹ
          nhàng và loạt chức năng quay chụp sẽ làm say lòng những người yêu cái
          đẹp. Mọi chi tiết trên Galaxy Z Flip 4 đều được căn chỉnh tinh tế và
          hướng đến mục tiêu tạo nên chiếc smartphone thời trang nhất từ trước
          đến nay. Từ khung kim loại bóng bẩy đến mặt lưng nhám thời thượng đều
          cho thấy kỹ nghệ chế tác xuất sắc, phát huy vẻ đẹp sản phẩm đến mức
          tối đa. Với Samsung Galaxy Z Flip4 bạn sẽ tìm thấy những gam màu thời
          thượng như Tím Bora, Xám Graphite, Hồng Champagne và Xanh Lovebird.
        </p>
        <div id="them-thong-tin" class="an">
          <img
            src="Ảnh/Mo-ta-samsung-galaxy-z-flip4-0.jpg"
            width="600"
            height="340"
            alt=""
          />
          <h3>Linh hoạt khi gập mở, cơ động để mang theo</h3>
          <p>
            Sở hữu màn hình lớn 6.7 inch nhưng Samsung Z Flip 4 vẫn đảm bảo yếu
            tố cơ động khi di chuyển cũng như độ gọn gàng lúc cầm nắm. Nhờ cơ
            chế gập độc đáo, chủ nhân chiếc điện thoại dễ dàng thu gọn một nửa
            chiều dài thân máy để bỏ túi và mang theo. Cấu trúc đặc biệt này
            giúp sản phẩm đem lại trải nghiệm đặc biệt không thể tìm thấy ở dòng
            điện thoại nào khác.
          </p>
          <img
            src="Ảnh/Mo-ta-samsung-galaxy-z-flip4-3.jpg"
            width="564"
            height="234"
            alt=""
          />
          <h3>Thoải mái gập mở tới 200.000 lần</h3>
          <p>
            Màn hình gập mở 6.7 inch của Galaxy Z Flip4 phải trải qua quy trình
            thẩm định khắc nghiệt nhất nhằm chắc chắn sẽ duy trì độ bền không
            đổi trong 200.000 lần gấp máy. Ngoài ra, nhờ những nguyên liệu được
            lựa chọn cầu kỳ như kính cường lực Gorilla Glass Victus+, nhôm Armor
            Aluminium, chiếc điện thoại sẽ khiến bạn bất ngờ về khả năng chống
            xước và chịu lực. Đem đến cấu trúc vững vàng ẩn trong một diện mạo
            thời trang.
          </p>
          <img
            src="Ảnh/Mo-ta-samsung-galaxy-z-flip4-6.jpg"
            width="600"
            height="350"
            alt=""
          />
          <h3>Mạnh mẽ, bền bỉ, chuẩn chống nước IPX8</h3>
          <p>
            Nhẹ nhàng và tinh tế, nhưng Galaxy Z Flip4 vẫn bền bỉ đáng ngạc
            nhiên. Một trong những thành tựu lớn nhất từ Samsung là việc hãng
            thành công đưa chức năng IPX8 (cao nhất của chuẩn chống nước) lên
            chiếc điện thoại này. Tiêu chuẩn này cho phép Samsung Galaxy Z Flip4
            sống tốt ở mực nước sâu 1,5 mét trong 30 phút mà không gặp vấn đề
            gì.
          </p>
        </div>
        <button id="xemThemBtn" class="button1">Xem Thêm ▼</button>
      </div>
    </div>

    <div class="rating-container">
      <h2>Khách hàng nói về sản phẩm</h2>
      <div class="average-rating" id="avg-rating">4.5</div>
      <p id="total-reviews">12 lượt đánh giá</p>
      <div class="stars" id="star-display">☆☆☆☆☆</div>

      <div>
        <div class="rating-bar">
          <span>5⭐</span>
          <div class="bar"><div class="bar-fill" id="bar-5"></div></div>
          <span id="count-5">7</span>
        </div>
        <div class="rating-bar">
          <span>4⭐</span>
          <div class="bar"><div class="bar-fill" id="bar-4"></div></div>
          <span id="count-4">1</span>
        </div>
        <div class="rating-bar">
          <span>3⭐</span>
          <div class="bar"><div class="bar-fill" id="bar-3"></div></div>
          <span id="count-3">1</span>
        </div>
        <div class="rating-bar">
          <span>2⭐</span>
          <div class="bar"><div class="bar-fill" id="bar-2"></div></div>
          <span id="count-2">0</span>
        </div>
        <div class="rating-bar">
          <span>1⭐</span>
          <div class="bar"><div class="bar-fill" id="bar-1"></div></div>
          <span id="count-1">0</span>
        </div>
      </div>

      <div class="rate-buttons">
        <button>Đánh giá sản phẩm</button>
        <button onclick="rate(5)">5☆</button>
        <button onclick="rate(4)">4☆</button>
        <button onclick="rate(3)">3☆</button>
        <button onclick="rate(2)">2☆</button>
        <button onclick="rate(1)">1☆</button>
      </div>
      <b>Bình luận</b>
      <div class="comment-box">
        <input
          type="text"
          placeholder="Nhập nội dung bình luận..."
          maxlength="3000"
        />
        <button class="btn-send">Gửi bình luận</button>
      </div>
    </div>
    <div class="chatbox">
      <div class="chat-header">
        <span>💬 Hỗ trợ khách hàng</span>
        <button class="chat-close">✖</button>
      </div>
      <div class="chat-body">
        <div class="chat-messages"></div>
        <div class="chat-input-container">
          <input
            type="text"
            class="chat-input"
            placeholder="Nhập tin nhắn..."
          />
          <button class="chat-send">Gửi</button>
        </div>
      </div>
    </div>
    <button class="chat-toggle">💬</button>

    <footer class="footer">
      <div class="container">
        <div class="footer-column">
          <h3>Chăm sóc khách hàng</h3>
          <ul>
            <li><a href="#">Chính sách bảo hành</a></li>
            <li><a href="#">Chính sách đổi trả</a></li>
            <li><a href="#">Chính sách bảo mật</a></li>
            <li><a href="#">Chính sách vận chuyển</a></li>
            <li><a href="#">Điều khoản sử dụng</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h3>Thông tin về website</h3>
          <p>Website bán các sản phẩm kỹ thuật số</p>
          <p>📍 Địa chỉ: Trường Đại Học Tài chính - Ngân hàng Hà Nội</p>
          <p>31 Dịch Vọng Hậu - Cầu Giấy - Hà Nội</p>
        </div>

        <div class="footer-column">
          <h3>Phương Thức Thanh Toán</h3>
          <p>💳 Thanh toán qua thẻ: Visa, MasterCard</p>
          <p>🏦 Chuyển khoản ngân hàng</p>
          <p>📲 Ví điện tử: Momo, ZaloPay</p>
          <p>💰 Thanh toán khi nhận hàng (COD)</p>
        </div>
      </div>

      <div class="footer-info">
        <p>© 2025 KTSShop.com.vn. Tất cả quyền được bảo lưu.</p>
        <p>Website được phát triển bởi nhóm 6 môn TMVNHDT. Liên hệ:</p>
        <p>
          <strong>Trưởng nhóm:</strong> Nguyễn Mạnh Anh - MSV: 2254800104 -
          Email:
          <a href="mailto:nguyenmanhanh04@gmail.com"
            >nguyenmanhanh04@gmail.com</a
          >
          - SĐT: <a href="tel:0395806898">0395806898</a> - Điện Thoại
        </p>
      </div>
    </footer>
    <script>const carouselImages = document.querySelector(".carousel-images");
const images = document.querySelectorAll(".carousel-images img");
const prevButton = document.getElementById("prev");
const nextButton = document.getElementById("next");

let currentIndex = 0;

function updateCarousel() {
  const offset = -currentIndex * 100;
  carouselImages.style.transform = `translateX(${offset}%)`;
}

function showNextImage() {
  currentIndex = (currentIndex + 1) % images.length;
  updateCarousel();
}

function showPrevImage() {
  currentIndex = (currentIndex - 1 + images.length) % images.length;
  updateCarousel();
}

nextButton.addEventListener("click", showNextImage);
prevButton.addEventListener("click", showPrevImage);

//////////////////////////////////////////////////////////////////
const priceData = {
  "128GB": { newPrice: 9990000, oldPrice: 23990000 },
};

function updatePrice() {
  let storageSelect = document.getElementById("storage");
  let selectedStorage = storageSelect.value;

  if (priceData[selectedStorage]) {
    let newPrice = priceData[selectedStorage].newPrice;
    let oldPrice = priceData[selectedStorage].oldPrice;

    document.getElementById("price").innerText =
      new Intl.NumberFormat("vi-VN").format(newPrice) + "₫";
    document.getElementById("old-price").innerText =
      new Intl.NumberFormat("vi-VN").format(oldPrice) + "₫";
  }
}
///////////////////////////////////////////////////////////////
document.getElementById("xemThemBtn").addEventListener("click", function () {
  let themThongTin = document.getElementById("them-thong-tin");
  if (
    themThongTin.style.display === "none" ||
    themThongTin.style.display === ""
  ) {
    themThongTin.style.display = "block";
    this.innerHTML = "Thu gọn ▲ ";
  } else {
    themThongTin.style.display = "none";
    this.textContent = "Xem thêm ▼ ";
  }
});
//////////////////////////////////////////////////////////////
document.addEventListener("DOMContentLoaded", function () {
  const cartCount = document.createElement("span");
  cartCount.id = "cart-count";
  cartCount.textContent = JSON.parse(localStorage.getItem("cart"))?.length || 0;

  function updatePrice() {
    let storagePrice = document.getElementById("storage").value;
    document.getElementById("price").innerText =
      new Intl.NumberFormat("vi-VN").format(storagePrice) + "₫";
  }

  window.removeFromCart = function (index) {
    let items = document.querySelectorAll("#cart-items li");
    if (items[index]) {
      items[index].style.opacity = "0";
      setTimeout(() => {
        cart.splice(index, 1);
        updateCartUI();
      }, 300);
    }
  };

  window.addToCart = function () {
    let product = document.querySelector(".product");
    let storageSelect = document.getElementById("storage");
    let colorSelect = document.getElementById("color");

    let storage = storageSelect.options[storageSelect.selectedIndex].text;
    let color = colorSelect.value;
    let newPrice = priceData[storage].newPrice;
    let oldPrice = priceData[storage].oldPrice;

    let imageMap = {
      "Tím": "Ảnh/2022_8_10_637957658354316100_samsung-galaxy-z-flip4-tim-1.jpg",
      "Vàng": "Ảnh/2022_8_10_637957685772850661_samsung-galaxy-z-flip4-vang-1.jpg",
    };

    let selectedImage =
      imageMap[color] || "Ảnh/iphone_16_pro_max_default.png";

    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    let existingItem = cart.find(
      (item) =>
        item.id === product.getAttribute("data-id") &&
        item.storage === storage &&
        item.color === color
    );

    if (existingItem) {
      existingItem.quantity += 1;
    } else {
      let item = {
        id: product.getAttribute("data-id"),
        name: product.getAttribute("data-name"),
        storage: storage,
        color: color,
        price: newPrice,
        oldPrice: oldPrice,
        image: selectedImage,
        quantity: 1,
      };
      cart.unshift(item);
    }

    localStorage.setItem("cart", JSON.stringify(cart));
    alert("Đã thêm sản phẩm vào giỏ hàng!");
    localStorage.setItem(
      "cartCount",
      cart.reduce((sum, item) => sum + item.quantity, 0)
    );
    updateCartCount();
  };
});

function updateCartCount() {
  let totalQuantity = localStorage.getItem("cartCount") || 0;
  let cartCountElement = document.querySelector(".cart-count");

  if (totalQuantity > 0) {
    cartCountElement.textContent = totalQuantity;
    cartCountElement.style.display = "flex";
  } else {
    cartCountElement.style.display = "none";
  }
}

window.addEventListener("storage", function () {
  updateCartCount();
});

document.addEventListener("DOMContentLoaded", function () {
  updateCartCount();
});
///////////////////////////////////////////////////////////////////////////////////////////////
document.addEventListener("DOMContentLoaded", function () {
  const chatbox = document.querySelector(".chatbox");
  const chatToggle = document.querySelector(".chat-toggle");
  const chatClose = document.querySelector(".chat-close");
  const chatInput = document.querySelector(".chat-input");
  const chatSend = document.querySelector(".chat-send");
  const chatMessages = document.querySelector(".chat-messages");

  chatToggle.addEventListener("click", () => {
    chatbox.classList.toggle("active");
    chatToggle.style.display = chatbox.classList.contains("active")
      ? "none"
      : "block";
  });

  chatClose.addEventListener("click", () => {
    chatbox.classList.remove("active");
    setTimeout(() => {
      chatToggle.style.display = "block";
    }, 300);
  });

  function addMessage(name, message, isUser = false) {
    let msgElement = document.createElement("div");
    msgElement.classList.add("chat-message");
    if (isUser) msgElement.classList.add("user");

    msgElement.innerHTML = `
				<img class="chat-avatar" src="${
          isUser
            ? "Ảnh/default-avatar-profile-icon-social-media-user-image-gray-avatar-icon-blank-profile-silhouette-illustration-vector.jpg"
            : "Ảnh/z6322794975136_70f7ef48558d457e4384cf3304b8fc8d.jpg"
        }" alt="Avatar">
				<div class="chat-content-wrapper">
					<div class="${isUser ? "chat-nameuser" : "chat-name"}">${name}</div>
					<div class="chat-content">${message}</div>
				</div>
			`;

    chatMessages.appendChild(msgElement);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }

  chatSend.addEventListener("click", () => {
    let message = chatInput.value.trim();
    if (message) {
      addMessage("Bạn", message, true);
      chatInput.value = "";
      setTimeout(
        () =>
          addMessage(
            "KTSShop",
            "Chào mừng đến với KTSShop.com.vn. Bạn cần gì?"
          ),
        1000
      );
    }
  });

  chatInput.addEventListener("keypress", (e) => {
    if (e.key === "Enter") {
      chatSend.click();
    }
  });
});
////////////////////////////////////////////////////////////////////////
const pageID = window.location.pathname;

const defaultRatings = [7, 4, 1, 0, 0];
const totalRatingsDefault = 12;
const totalScoreDefault = 7 * 5 + 4 * 4 + 1 * 3 + 0 * 2 + 0 * 1;

let currentRatings = [...defaultRatings];
let currentTotalRatings = totalRatingsDefault;
let currentTotalScore = totalScoreDefault;

function updateUI(ratings, totalRatings, totalScore) {
  let avg = (totalScore / totalRatings).toFixed(1);
  document.getElementById("avg-rating").innerText = avg;
  document.getElementById("total-reviews").innerText =
    totalRatings + " lượt đánh giá";

  let starDisplay = "☆☆☆☆☆";
  if (avg >= 0.5 && avg < 1.5) starDisplay = "★☆☆☆☆";
  if (avg >= 1.5 && avg < 2.5) starDisplay = "★★☆☆☆";
  if (avg >= 2.5 && avg < 3.5) starDisplay = "★★★☆☆";
  if (avg >= 3.5 && avg < 4.5) starDisplay = "★★★★☆";
  if (avg >= 4.5) starDisplay = "★★★★★";
  document.getElementById("star-display").innerHTML = starDisplay;

  for (let i = 0; i < 5; i++) {
    let percent = ((ratings[i] / totalRatings) * 100).toFixed(1) || 0;
    document.getElementById(`bar-${5 - i}`).style.width = percent + "%";
    document.getElementById(`count-${5 - i}`).innerText = ratings[i];
  }
}

function rate(star) {
  currentRatings[5 - star]++;
  currentTotalRatings++;
  currentTotalScore += star;

  updateUI(currentRatings, currentTotalRatings, currentTotalScore);
}

window.onload = () => {
  currentRatings = [...defaultRatings];
  currentTotalRatings = totalRatingsDefault;
  currentTotalScore = totalScoreDefault;
  updateUI(defaultRatings, totalRatingsDefault, totalScoreDefault);
};
//////////////////////////////////////////////////////////////////////////////
document.addEventListener("DOMContentLoaded", function () {
  const searchInput = document.getElementById("searchInput");
  const searchButton = document.getElementById("searchButton");

  if (searchButton && searchInput) {
    searchButton.addEventListener("click", function () {
      let keyword = searchInput.value.trim().toLowerCase();
      if (keyword) {
        window.location.href = `Search.html?search=${encodeURIComponent(
          keyword
        )}`;
      }
    });

    searchInput.addEventListener("keypress", function (e) {
      if (e.key === "Enter") {
        searchButton.click();
      }
    });
  }
});
////////////////////////////////////////
document.addEventListener("DOMContentLoaded", function () {
  const loginLink = document.getElementById("loginLink");

  function updateLoginUI() {
    if (localStorage.getItem("loggedIn") === "true") {
      loginLink.innerText = "Tài khoản";
      loginLink.href = "TTCN.html";
    } else {
      loginLink.innerText = "Đăng nhập";
      loginLink.href = "dangnhap.html";
    }
  }

  updateLoginUI();
});
</script>
    <script
      async
      defer
      crossorigin="anonymous"
      src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v22.0"
    ></script>
  </body>
</html>
